import requests

headers = {
    'Authorization': 'Token 548afd6fab3bea9794a41b31da0e9404f733e222'
}

url = 'https://demo.defectdojo.org/api/v2/import-scan/'

data = {
    'active': True,
    'verified': True,
    'scan_type': 'Gitleaks Scan', 
    'minimum_severity': 'Low',
    'engagement': 54
}

files = {
        'file': open('gitleaks.json', 'rb')
         
}

response= requests.post(url, headers=headers, data=data, files=files)

if response.status_code==201:
    print('Scan results imported successfully')

else: 
     print(f' Failed to import scan results: {response.context}')
              